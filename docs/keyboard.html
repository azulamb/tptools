<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>TitanPocket tools</title>
<script src="./site-header.js"></script>
<script src="./tp-keyboard.js"></script>
<script>
window.addEventListener('DOMContentLoaded', () =>
{
	( ( input ) =>
	{
		window.addEventListener( 'keydown', ( event ) =>
		{
			input.value = `${ event.key } ${ event.keyCode }(${ event.code }) [${ event.shiftKey ? 'S' : '' }${ event.ctrlKey ? 'C' : '' }${ event.altKey ? 'A' : '' }${ event.metaKey ? 'M' : '' }]`;
			keyboard.unlight();
			keyboard.light( event.code );
		} );
	} )( document.getElementById( 'input' ) );

	( ( keyboard ) =>
	{
		const kinput = document.getElementById( 'kinput' );
		keyboard.addEventListener( 'push', ( event ) =>
		{
			kinput.value = `${ event.detail.keyCode }(${ event.detail.code })${ event.detail.usable ? '' : ' Unusable' }`;
			keyboard.unlight();
			keyboard.light( event.detail.button );
		} );
	} )( document.getElementById( 'keyboard' ) );
} );
</script>
<style>
input { width: 100%; font-size:3rem; box-sizing: border-box; }
</style>
</head>
<body>
	<site-header></site-header>
	<div style="width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:3rem 1fr;">
		<input id="kinput" readonly>
		<input id="input" readonly>
		<tp-keyboard id="keyboard" style="width:100%;grid-column:1 / 3;"></tp-keyboard>
	</div>
</body>
</html>
